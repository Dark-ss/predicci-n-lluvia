<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>PPP - Oficial</title>
    <link rel="stylesheet" href="/static/font-awesome-4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/static/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/hero-slider-style.css">
    <link rel="stylesheet" href="/static/css/magnific-popup.css">
    <link rel="stylesheet" href="/static/css/templatemo-style.css">



</head>

<body>

    <!-- Content -->
    <div class="cd-hero">

        <!-- Navigation -->
        <div class="cd-slider-nav">
            <nav class="navbar">
                <div class="tm-navbar-bg">

                    <a class="navbar-brand text-uppercase" href="#"><i class="fa fa-flash tm-brand-icon"></i>PPN</a>

                    <button class="navbar-toggler hidden-lg-up" type="button" data-toggle="collapse"
                        data-target="#tmNavbar">
                        &#9776;
                    </button>
                    <div class="collapse navbar-toggleable-md text-xs-center text-uppercase tm-navbar" id="tmNavbar">
                        <ul class="nav navbar-nav">
                            <li class="nav-item ">
                                <a class="nav-link" href="/">Inico<span
                                        class="sr-only">(current)</span></a>
                            </li>
                            <li class="nav-item active selected">
                                <a class="nav-link" href="{{ url_for('prediccion') }}">Predecir</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="{{ url_for('graficas') }}">Graficas</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="{{ url_for('informacion') }}">Información</a>
                            </li>
                        </ul>
                    </div>
                </div>

            </nav>
        </div>

        <ul class="cd-hero-slider">

            <!-- Page 2 Prediccion -->
            <li class="selected">
                <div class="cd-full-width">
                    <div class="container-fluid js-tm-page-content tm-page-pad" data-page-no="1">
                        <div class="tm-contact-page">
                            <div class="row">
                                <div class="col-xs-12">
                                    <div class="tm-flex tm-contact-container">
                                        <div
                                            class="tm-bg-white-translucent text-xs-left tm-textbox tm-2-col-textbox-2 tm-textbox-padding tm-textbox-padding-contact">
                                            <p class="tm-text"></p>


                                            <form id="miFormu" method="POST" action="/prediccion_precipitacion"
                                                class="tm-contact-form">

                                                <div class="form-group">
                                                    <label class="text-label" for="departamento">Ingrese el
                                                        departamento:</label>
                                                    <select id="departamento" name="departamento" class="form-control"
                                                        required>
                                                        <option value="Amazonas">Amazonas</option>
                                                        <option value="Antioquia">Antioquia</option>
                                                        <option value="Arauca">Arauca</option>
                                                        <option value="Atlantico">Atlantico</option>
                                                        <option value="Bogota D.C.">Bogota D.C.</option>
                                                        <option value="Bolivar">Bolivar</option>
                                                        <option value="Boyaca">Boyaca</option>
                                                        <option value="Caldas">Caldas</option>
                                                        <option value="Caqueta">Caqueta</option>
                                                        <option value="Casanare">Casanare</option>
                                                        <option value="Cauca">Cauca</option>
                                                        <option value="Cesar">Cesar</option>
                                                        <option value="Choco">Choco</option>
                                                        <option value="Cordoba">Cordoba</option>
                                                        <option value="Cundinamarca">Cundinamarca</option>
                                                        <option value="Guainia">Guainia</option>
                                                        <option value="Guaviare">Guaviare</option>
                                                        <option value="Huila">Huila</option>
                                                        <option value="La Guajira">La Guajira</option>
                                                        <option value="Magdalena">Magdalena</option>
                                                        <option value="Meta">Meta</option>
                                                        <option value="Nariño">Nariño</option>
                                                        <option value="Norte Santander">Norte Santander</option>
                                                        <option value="Putumayo">Putumayo</option>
                                                        <option value="Quindio">Quindio</option>
                                                        <option value="Risaralda">Risaralda</option>
                                                        <option value="San Andres y Pr">San Andres y Pr</option>
                                                        <option value="Santander">Santander</option>
                                                        <option value="Sucre">Sucre</option>
                                                        <option value="Tolima">Tolima</option>
                                                        <option value="Vaupes">Vaupes</option>
                                                        <option value="Vichada">Vichada</option>
                                                    </select>
                                                </div>

                                                <div class="form-group">
                                                    <label class="text-label" for="mes">Ingrese el año a
                                                        predecir:</label>
                                                    <input type="number" id="mes" name="mes" class="form-control"
                                                        required />
                                                </div>
                                                <input class="tm-submit-btn" type="submit" value="Enviar">
                                            </form>
                                        </div>

                                        <div
                                            class="tm-bg-white-translucent text-xs-left tm-textbox tm-2-col-textbox-2 tm-textbox-padding tm-textbox-padding-contact">
                                            <h2 class="tm-text-title">Sistemas de Predicción</h2>
                                            <p class="tm-text">Para obtener un pronóstico en esta página web, primero
                                                selecciona el Departamento al que corresponde el análisis que necesitas.
                                                Luego, en la sección de años, elige el año a que vas a predecir teniendo
                                                en cuenta que parten del año 2000.</p>
                                            <p class="tm-text">Al seleccionar el año 1, estás solicitando proyecciones
                                                para el año siguiente 2001, se mostrara la predicción en promedio para
                                                los meses de ese año y la acumulación de aquellos meses.</p>
                                            <p class="tm-text"><strong>Nota:</strong> Un milímetro de precipitación
                                                equivale a un litro de agua por metro cuadrado de superficie o a diez
                                                (10) metros cúbicos de agua por hectárea.</p>
                                        </div>
                                    </div>

                                </div>

                            </div>

                            <div class="row">
                                <div class="col-xs-12">
                                    <div class="tm-flex tm-contact-container">
                                        <div class="tm-link-a text-xs-center tm-textbox tm-2-col-textbox-2">
                                            <a class="option-p" id="w-tabs-0-data-w-tab-0" aria-selected="true">PRECIPITACIÓN</i></a>
                                            <a class="option-p" id="w-tabs-0-data-w-tab-1" aria-selected="false">LLUVIA</i></a>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            {% if cantregresion %}
                            <div id="Primero">
                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="tm-flex tm-contact-container">
                                            <div
                                                class="tm-bg-white-translucent text-xs-left tm-textbox tm-2-col-textbox-2 tm-textbox-padding tm-textbox-padding-contact">
                                                <h2 class="tm-text-title">Gráfica 1</h2>
                                                <img src="data:image/png;base64,{{ img1 }}" alt="">
                                            </div>

                                            <div
                                                class="tm-bg-white-translucent text-xs-left tm-textbox tm-2-col-textbox-2 tm-textbox-padding tm-textbox-padding-contact">
                                                <h2 class="tm-text-title">Gráfica 2</h2>
                                                <img src="data:image/png;base64,{{ img2 }}" alt="">
                                            </div>

                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="tm-flex tm-contact-container">
                                            <div
                                                class="tm-bg-white-translucent text-xs-left tm-textbox tm-2-col-textbox-2 tm-textbox-padding tm-textbox-padding-contact">
                                                <table class="lineas"><!--tabla-->
                                                    <thead><!--encabezado de la tabla-->
                                                        <tr><!--filas-->
                                                            <th>Mes</th>
                                                            <th>Promedio</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        {% for lista_columnas in promediordenado.index %}
                                                        <tr>
                                                            <td>{{ lista_columnas }}</td> <!--celdas-->
                                                            <td>{{ promediordenado[lista_columnas] }}</td>
                                                        </tr>
                                                        {% endfor %}
                                                    </tbody>
                                                </table>
                                            </div>

                                            <div
                                                class="tm-bg-white-translucent text-xs-left tm-textbox tm-2-col-textbox-2 tm-textbox-padding tm-textbox-padding-contact">
                                                <h2 class="tm-text-title">Información departamento
                                                    {{departamento_seleccionado}}</h2>
                                                <p><b>La cantidad de precipitación sera de:</b> en el mes
                                                    {{cantregresion|round(2)}} mm y en el año
                                                    {{cantregresion_anio|round(2)}} mm</p>
                                                <p><b>La mediana de los datos es de:</b> {{mediana_total}}</p>
                                                <p><b>La desviación estandar sera de:</b> {{desviacion_total}}</p>
                                            </div>
                                        </div>

                                    </div>

                                </div>
                            </div>
                            {% endif %}
                            {% if cantregresion %}
                            <div id="Segundo" style="display: none;">
                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="tm-flex tm-contact-container">
                                            <div
                                                class="tm-bg-white-translucent text-xs-left tm-textbox tm-2-col-textbox-2 tm-textbox-padding tm-textbox-padding-contact">
                                                <h2 class="tm-text-title">Gráfica 1</h2>
                                                <img src="data:image/png;base64,{{ img4 }}" alt="">
                                            </div>

                                            <div
                                                class="tm-bg-white-translucent text-xs-left tm-textbox tm-2-col-textbox-2 tm-textbox-padding tm-textbox-padding-contact">
                                                <h2 class="tm-text-title">Gráfica 2</h2>
                                                <img src="data:image/png;base64,{{ img3 }}" alt="">
                                            </div>

                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="tm-flex tm-contact-container">
                                            <div
                                                class="tm-bg-white-translucent text-xs-left tm-textbox tm-2-col-textbox-2 tm-textbox-padding tm-textbox-padding-contact">
                                                <table class="lineas"><!--tabla-->
                                                    <thead><!--encabezado de la tabla-->
                                                        <tr><!--filas-->
                                                            <th>Mes</th>
                                                            <th>Promedio</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        {% for lista_columnas_lluvia in promediordenado_lluvia.index %}
                                                        <tr>
                                                            <td>{{ lista_columnas_lluvia }}</td> <!--celdas-->
                                                            <td>{{ promediordenado_lluvia[lista_columnas_lluvia] }}</td>
                                                        </tr>
                                                        {% endfor %}
                                                    </tbody>
                                                </table>
                                            </div>

                                            <div
                                                class="tm-bg-white-translucent text-xs-left tm-textbox tm-2-col-textbox-2 tm-textbox-padding tm-textbox-padding-contact">
                                                <h2 class="tm-text-title">Información departamento {{departamento_seleccionado}}</h2>
                                                    <p><b>La cantidad de dias de lluvia:</b> en el mes {{cantregresion_lluvia|round(2)}} dias  y en el año {{cantregresion_anio_lluvia|round(2)}} dias</p>
                                                    <p><b>La mediana de los datos es de:</b> {{mediana_total_lluvia}}</p>
                                                    <p><b>La desviación estandar sera de:</b> {{desviacion_total_lluvia}}</p>   
                                            </div>
                                        </div>

                                    </div>

                                </div>
                            </div>
                            {% endif %}

            </li>
        </ul> 

        <footer class="tm-footer">

            <div class="tm-social-icons-container text-xs-center">
                <a href="#" class="tm-social-link"><i class="fa fa-facebook"></i></a>
                <a href="#" class="tm-social-link"><i class="fa fa-twitter"></i></a>
                <a href="#" class="tm-social-link"><i class="fa fa-instagram"></i></a>
                <a href="#" class="tm-social-link"><i class="fa fa-linkedin"></i></a>
            </div>

            <p class="tm-copyright-text">Proyecto por Juan C. Calderon & Monica Plata R.</p>

        </footer>

    </div> <!-- .cd-hero -->


    <!-- Preloader, https://ihatetomatoes.net/create-custom-preloading-screen/ -->
    <div id="loader-wrapper">

        <div id="loader"></div>
        <div class="loader-section section-left"></div>
        <div class="loader-section section-right"></div>

    </div>

    <!-- load JS files -->
    <script src="/static/js/jquery-1.11.3.min.js"></script>
    <script src="/static/https://www.atlasestateagents.co.uk/javascript/tether.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.magnific-popup.min.js"></script>
    <script src="/static/js/predi_lluv.js"></script>

    <script>

        function adjustHeightOfPage(pageNo) {

            var offset = 80;
            var pageContentHeight = 0;

            var pageType = $('div[data-page-no="' + pageNo + '"]').data("page-type");

            if (pageType != undefined && pageType == "gallery") {
                pageContentHeight = $(".cd-hero-slider li:nth-of-type(" + pageNo + ") .tm-img-gallery-container").height();
            }
            else {
                pageContentHeight = $(".cd-hero-slider li:nth-of-type(" + pageNo + ") .js-tm-page-content").height();
            }

            if ($(window).width() >= 992) { offset = 120; }
            else if ($(window).width() < 480) { offset = 40; }

            // Get the page height
            var totalPageHeight = 15 + $('.cd-slider-nav').height()
                + pageContentHeight + offset
                + $('.tm-footer').height();

            // Adjust layout based on page height and window height
            if (totalPageHeight > $(window).height()) {
                $('.cd-hero-slider').addClass('small-screen');
                $('.cd-hero-slider li:nth-of-type(' + pageNo + ')').css("min-height", totalPageHeight + "px");
            }
            else {
                $('.cd-hero-slider').removeClass('small-screen');
                $('.cd-hero-slider li:nth-of-type(' + pageNo + ')').css("min-height", "100%");
            }
        }

        /*
            Everything is loaded including images.
        */
        $(window).load(function () {

            adjustHeightOfPage(1); // Adjust page height

            /* Gallery One pop up
            -----------------------------------------*/
            $('.gallery-one').magnificPopup({
                delegate: 'a', // child items selector, by clicking on it popup will open
                type: 'image',
                gallery: { enabled: true }
            });

            /* Gallery Two pop up
            -----------------------------------------*/
            $('.gallery-two').magnificPopup({
                delegate: 'a',
                type: 'image',
                gallery: { enabled: true }
            });

            /* Gallery Three pop up
            -----------------------------------------*/
            $('.gallery-three').magnificPopup({
                delegate: 'a',
                type: 'image',
                gallery: { enabled: true }
            });

            /* Collapse menu after click 
            -----------------------------------------*/
            $('#tmNavbar a').click(function () {
                $('#tmNavbar').collapse('hide');

                adjustHeightOfPage($(this).data("no")); // Adjust page height       
            });

            /* Browser resized 
            -----------------------------------------*/
            $(window).resize(function () {
                var currentPageNo = $(".cd-hero-slider li.selected .js-tm-page-content").data("page-no");

                // wait 3 seconds
                setTimeout(function () {
                    adjustHeightOfPage(currentPageNo);
                }, 1000);

            });

            // Remove preloader (https://ihatetomatoes.net/create-custom-preloading-screen/)
            $('body').addClass('loaded');

        });

        // Restaurar la posición de desplazamiento después de cargar la página
        window.addEventListener("load", function() {
            // Obtener la posición de desplazamiento de localStorage
            const scrollPosition = localStorage.getItem("scrollPosition");

            // Si hay una posición de desplazamiento guardada, desplázate a esa posición
            if (scrollPosition) {
                window.scrollTo(0, parseInt(scrollPosition, 10));
            }
        });

    </script>

</body>

</html>